<% if(@product.product_type && @product.supplier_price && @product.ipi && @product.markup && @budgets_product.quantity && @budgets_product.freight && @budgets_product.width && @budgets_product.height) %>

	<% price = compute_price(@product.product_type, @product.supplier_price, @product.ipi, @product.markup, @budgets_product.quantity, @budgets_product.freight, @budgets_product.width, @budgets_product.height) %>

	$('#product_id_<%= @budgets_product.id %>').find('.td_price').find('span').html('<%= number_to_currency(price) %>');
	$('#product_id_<%= @budgets_product.id %>').find('.td_price').find('i').addClass('icon-ok success_text');

<% end %>




<% if params[:budgets_product][:width] %>

	$('#product_id_<%= @budgets_product.id %>').find('.td_width').find('span').html('<%= "#{@budgets_product.width} cm" %>');
	$('#product_id_<%= @budgets_product.id %>').find('.td_width').find('span').css('color', '');
	$('#product_id_<%= @budgets_product.id %>').find('.td_width').find('i').addClass('icon-ok success_text');

	hide_all_forms();
	show_spans();

<% end %>




<% if params[:budgets_product][:height] %>

	$('#product_id_<%= @budgets_product.id %>').find('.td_height').find('span').html('<%= "#{@budgets_product.height} cm" %>');
	$('#product_id_<%= @budgets_product.id %>').find('.td_height').find('span').css('color', '');
	$('#product_id_<%= @budgets_product.id %>').find('.td_height').find('i').addClass('icon-ok success_text');

	hide_all_forms();
	show_spans();

<% end %>




<% if params[:budgets_product][:freight] %>

	$('#product_id_<%= @budgets_product.id %>').find('.td_freight').find('span').html('<%= number_to_currency(@budgets_product.freight) %>');
	$('#product_id_<%= @budgets_product.id %>').find('.td_freight').find('span').css('color', '');
	$('#product_id_<%= @budgets_product.id %>').find('.td_freight').find('i').addClass('icon-ok success_text');

	hide_all_forms();
	show_spans();

<% end %>



<% if params[:budgets_product][:quantity] %>

	$('#product_id_<%= @budgets_product.id %>').find('.td_quantity').find('span').html('<%= @budgets_product.quantity %>');
	$('#product_id_<%= @budgets_product.id %>').find('.td_quantity').find('span').css('color', '');

	hide_all_forms();
	show_spans();

<% end %>



<% if params[:budgets_product][:house_area] %>

	$('#product_id_<%= @budgets_product.id %>').find('.td_house_area').find('span').html('<%= @budgets_product.house_area %>');
	$('#product_id_<%= @budgets_product.id %>').find('.td_house_area').find('i').addClass('icon-ok success_text');
	$('#product_id_<%= @budgets_product.id %>').find('.td_house_area').find('span').css('color', '');

<% end %>



<% if params[:budgets_product][:days_to_delivery] %>

	$('#product_id_<%= @budgets_product.id %>').find('.td_days_to_delivery').find('span').html('<%= "#{@budgets_product.days_to_delivery} d" %>');
	$('#product_id_<%= @budgets_product.id %>').find('.td_days_to_delivery').find('i').addClass('icon-ok success_text');
	$('#product_id_<%= @budgets_product.id %>').find('.td_days_to_delivery').find('span').css('color', '');

<% end %>



hide_all_forms();
show_spans();
show_pencils();


$('#div_table_results').html('<%= escape_javascript(render partial: "table_results") %>');

make_td_same_width_for_budget_tables();