BudgetsProduct.find_all_by_budget_id(11).each { |bp| pt = Product.find(bp.product_id).product_type; bp.product_type = pt; bp.save  }


BudgetsProduct.find_all_by_product_type(4).each { |bp|  bp.product_type = 0; bp.save  }


###access server
ssh deployer@192.241.247.215
pass: Kimxoxo1979

##acess postgrs command line
sudo su - postgres
psql

##drop database
drop database baway_development;

##create database
create database <database name> owner <username>


cd ~/apps/baway/current && RAILS_ENV=production bundle exec rails console


##manual backup on vps
backup perform --trigger baway_dropbox_backup


###to replicate remote DB to local DB
./script/db_replicate.sh


###rails console remove array objects
Record.all.each { |r| r.destroy }

###excel, replace dot to comma
=SUBSTITUTE(C5,".",",")

###product_type
papel parede -> 1
tapete -> 2
tecido -> 3
mao obra -> 4
revestimento e couro -> 5
custos adicionais -> 6



#migration das delivery options
DeliveryOption.new(budget_id: 3, name: "rev. parede", option1: false, option1_label: "15d", option2: false, option2_label: "30d", option3: false, option3_label: "45d", option4: false, option4_label: "60d", observations: "").save

DeliveryOption.new(budget_id: 3, name: "tec. importado", option1: false, option1_label: "30d", option2: false, option2_label: "45d", option3: false, option3_label: "60d", option4: false, option4_label: "", observations: "").save

DeliveryOption.new(budget_id: 3, name: "tec. nacional", option1: false, option1_label: "15d", option2: false, option2_label: "30d", option3: false, option3_label: "45d", option4: false, option4_label: "", observations: "").save

DeliveryOption.new(budget_id: 3, name: "tapete", option1: false, option1_label: "20d", option2: false, option2_label: "30d", option3: false, option3_label: "45d", option4: false, option4_label: "60d", observations: "").save

DeliveryOption.new(budget_id: 3, name: "persianas", option1: false, option1_label: "30d", option2: false, option2_label: "45d", option3: false, option3_label: "", option4: false, option4_label: "", observations: "").save

DeliveryOption.new(budget_id: 3, name: "toldo", option1: false, option1_label: "30d", option2: false, option2_label: "45d", option3: false, option3_label: "60d", option4: false, option4_label: "", observations: "").save